{% extends 'base.html' %}

{% block head %}
<title>Pemesanan | Cool Service</title>
{% endblock %}

{% block body %}

<style>
    body {
        background: linear-gradient(135deg, #1976D2, #26C6DA);
        min-height: 100vh;
    }

    .order-card {
        max-width: 600px;
        margin: auto;
        background: white;
        border-radius: 20px;
        padding: 35px;
        box-shadow: 0px 10px 30px rgba(0,0,0,0.25);
    }

    label {
        font-weight: 600;
        margin-bottom: 6px;
    }

    .btn-submit {
        width: 100%;
        padding: 12px;
        font-size: 18px;
        border-radius: 12px;
    }

    .error-message {
        margin-top: 15px;
        padding: 12px;
        border-radius: 10px;
        background: #ffebee;
        color: #d32f2f;
        font-weight: 600;
        text-align: center;
    }
</style>

<main class="page-content py-5">
    <div class="container">

        <h2 class="text-center text-light fw-bold mb-4">
            Form Pemesanan Layanan AC
        </h2>

        <div class="order-card">

            <form method="POST" action="{{ url_for('form_pesan') }}">

                <!-- Nama -->
                <div class="mb-3">
                    <label for="name">Nama Lengkap</label>
                    <input type="text" id="name" name="name"
                        class="form-control"
                        placeholder="Masukkan nama lengkap"
                        required>
                </div>

                <!-- Alamat -->
                <div class="mb-3">
                    <label for="address">Alamat</label>
                    <input type="text" id="address" name="address"
                        class="form-control"
                        placeholder="Jl. Contoh No.123, Yogyakarta"
                        required>
                </div>

                <!-- Telepon -->
                <div class="mb-3">
                    <label for="phone">Nomor Telepon</label>
                    <input type="tel" id="phone" name="phone"
                        class="form-control"
                        placeholder="08xxxxxxxxxx"
                        required>
                </div>

                <!-- Jenis Layanan -->
                <div class="mb-3">
                    <label for="service_type">Jenis Layanan</label>
                    <select name="service_type" id="service_type"
                        class="form-select"
                        required>

                        <option value="">-- Pilih Layanan --</option>

                        <option value="cleaning"
                            {% if selected_order == 'cleaning' %}selected{% endif %}>
                            Cleaning AC
                        </option>

                        <option value="service"
                            {% if selected_order == 'service' %}selected{% endif %}>
                            Service AC
                        </option>

                        <option value="installation"
                            {% if selected_order == 'installation' %}selected{% endif %}>
                            Instalasi AC
                        </option>
                    </select>
                </div>

                <h2 class="text-center text-dark fw-bold mb-4">
                    Keterangan Tambahan
                </h2>

                {% if selected_order == 'cleaning' %}
                    <div class="mb-3">
                        <label for="">Kapan terakhir AC dibersihkan?</label>
                        <input type="month" id="lastmonth" name="lastmonth">
                    </div>

                {% elif selected_order == 'service' %}
                    <div class="mb-3">
                        <label for="">Masalah yang dialami AC</label>
                        <textarea id="problems" name="problems"
                            class="form-control"
                            rows="3"
                            placeholder="Jelaskan masalah AC Anda"></textarea>
                    </div>

                {% if error %}
                    <div class="error-message">
                        {{ error }}
                    </div>
                {% endif %}

                <button type="submit" class="btn btn-primary btn-submit mt-3">
                    Kirim Pesanan ke WhatsApp
                </button>
            </form>
        </div>
    </div>
</main>

{% endblock %}